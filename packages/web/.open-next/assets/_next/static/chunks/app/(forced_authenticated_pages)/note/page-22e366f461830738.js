(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[941],{5462:function(t,e,n){Promise.resolve().then(n.bind(n,242))},9303:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var r=n(4618);function o(){return(0,r.jsx)("div",{children:"Loading..."})}n(7024)},5168:function(t,e,n){"use strict";function r(){if(void 0===window.location)return null;let t=new URL("http://localhost:3000"),e=t.protocol+"//",n=t.hostname,r=t.port?":".concat(t.port):"",o=window.location.protocol+"//",s=window.location.hostname,c=window.location.port?":".concat(window.location.port):"",a="localhost"===s?e:o,u="localhost"===s?n:s,i=""===c&&"localhost"!==s?"":c||r;return"".concat(a).concat(u).concat(i)}n.d(e,{$:function(){return r}})},1756:function(t,e){"use strict";e.Z=t=>{throw console.error("An error occurred:",t),Error("An error occurred.")}},9306:function(t,e,n){"use strict";n.d(e,{F9:function(){return u},O8:function(){return i},ag:function(){return a}});var r=n(3132),o=n.n(r),s=n(1756),c=n(5168);async function a(t){let{path:e}=t,n=(0,c.$)();return o().get("".concat(n,"/api/tunnel/").concat(e),{}).then(t=>{if(200===t.status)return console.log("get returned response",t),{data:t.data.response,status:t.status};throw(0,s.Z)({message:t.statusText}),Error(t.statusText)}).catch(t=>{throw(0,s.Z)({error:t}),t})}async function u(t){let{path:e,data:n,additionalHeaders:r={}}=t,a=(0,c.$)();return o().post("".concat(a,"/api/tunnel/").concat(e),n,{}).then(t=>{if(200===t.status)return console.log("post returned response",t),{data:t.data.response,status:t.status};throw(0,s.Z)({message:t.statusText}),Error(t.statusText)}).catch(t=>{throw(0,s.Z)({error:t}),t})}async function i(t){let{path:e}=t,n=(0,c.$)();return o().delete("".concat(n,"/api/tunnel/").concat(e)).then(t=>{if(200===t.status)return{data:t.data.response,status:t.status};throw(0,s.Z)({message:t.statusText}),Error(t.statusText)}).catch(t=>{throw(0,s.Z)({error:t}),t})}},242:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return f},dynamic:function(){return h}});var r=n(4618),o=n(7024),s=n(9303),c=n(3911),a=n.n(c);function u(t){let{items:e}=t;return(0,o.useEffect)(()=>{console.log(e)},[e]),(0,r.jsx)(r.Fragment,{children:e&&e.length>0?e.map((t,e)=>(0,r.jsx)(a(),{href:"/note/".concat(t.noteId),children:(0,r.jsxs)("div",{className:"border border-gray-500 rounded-lg p-4",children:[(0,r.jsx)("p",{children:t.createdAt}),(0,r.jsx)("p",{children:t.userId}),(0,r.jsx)("p",{children:t.content}),(0,r.jsx)("p",{children:t.attachment})]})},e)):(0,r.jsx)(r.Fragment,{})})}var i=n(4540),l=n(9306),d=n(1756);let h="force-dynamic";var f=function(){let[t,e]=(0,o.useState)(!1),[n,c]=(0,o.useState)([]),[h,f]=(0,o.useState)(null),p=(0,i.useSession)();return(0,o.useEffect)(()=>{(0,l.ag)({path:"notes"}).then(t=>{if(!t)throw(0,d.Z)(t),Error("Fetch error");return t.data}).then(t=>{c(t),e(!1)}).catch(t=>{f(t.toString()),e(!1)})},[p]),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(a(),{href:"/note/create",className:"border border-gray-500 p-2",children:"Create Note"}),(0,r.jsx)("h1",{children:"Your notes:"}),t?(0,r.jsx)(s.Z,{}):(0,r.jsx)(u,{items:n})]})})}}},function(t){t.O(0,[540,911,132,89,676,744],function(){return t(t.s=5462)}),_N_E=t.O()}]);