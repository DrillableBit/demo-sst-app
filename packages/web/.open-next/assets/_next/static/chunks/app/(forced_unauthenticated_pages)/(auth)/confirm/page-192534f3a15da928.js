(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[86],{5893:function(){},8751:function(e,n,t){Promise.resolve().then(t.bind(t,8037))},8976:function(e,n,t){"use strict";t.r(n),t.d(n,{dynamic:function(){return i},useAuth:function(){return c}});var o=t(4618),r=t(7024),s=t(4540);let i="force-dynamic",u=(0,r.createContext)(void 0);function c(){let e=(0,r.useContext)(u);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}n.default=e=>{let{children:n}=e,[t,i]=(0,r.useState)(!1),[c,a]=(0,r.useState)(!0),[l,f]=(0,r.useState)(!1),[d,m]=(0,r.useState)("");return(0,o.jsx)(u.Provider,{value:{isLoggedIn:t,setIsLoggedIn:i,authLoading:c,setAuthLoading:a,authStatus:l,setAuthStatus:f,status:d,setStatus:m},children:(0,o.jsx)(s.SessionProvider,{children:n})})}},3073:function(e,n,t){"use strict";t.d(n,{So:function(){return s},X_:function(){return r},Zb:function(){return u},wv:function(){return i}});var o=t(7512);let r=new o.AM({UserPoolId:"eu-central-1_zmPNpG8HY",ClientId:"5s5tkn3i8dkgg8r0j16p2fgivv"});function s(e,n,t){let s=new o.sD({Username:e,Password:n}),i=new o.ws({Username:e,Pool:r});i.authenticateUser(s,t)}function i(e,n){let t=new o.ws({Username:e,Pool:r});t.forgotPassword({onSuccess:function(){console.log("internal succes"),n&&n.onSuccess&&n.onSuccess()},onFailure:function(e){console.log("internal failure"),n&&n.onFailure&&n.onFailure(e)},inputVerificationCode:function(e){console.log("internal inputVerificationCode"),n&&n.inputVerificationCode&&n.inputVerificationCode(e)}})}function u(e,n,t,s){let i=new o.ws({Username:e,Pool:r});i.confirmPassword(n,t,{onSuccess(){s&&s.onSuccess&&s.onSuccess()},onFailure(e){s&&s.onFailure&&s.onFailure(e)}})}},8037:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return a}});var o=t(4618),r=t(7024),s=t(7512),i=t(3073),u=t(5041),c=t(8976);function a(){let[e,n]=(0,r.useState)(""),[t,a]=(0,r.useState)(""),[l,f]=(0,r.useState)(""),[d,m]=(0,r.useState)(!1),{setStatus:g}=(0,c.useAuth)();return(0,r.useEffect)(()=>{d&&(g("Your account has been verified, you can now log in."),(0,u.redirect)("/"))}),(0,r.useEffect)(()=>{localStorage.getItem("email")||(0,u.redirect)("/signup")}),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("form",{onSubmit:n=>{n.preventDefault();let t=new s.ws({Username:localStorage.getItem("email"),Pool:i.X_});t.confirmRegistration(e,!0,(e,n)=>{e?(f("error"),a(e.message||JSON.stringify(e))):m(!0)})},className:"space-y-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"code",className:"block text-sm font-medium text-gray-700",children:"Confirmation Code"}),(0,o.jsx)("input",{type:"text",id:"code",value:e,onChange:e=>n(e.target.value),required:!0,placeholder:"123456",className:"mt-1 w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),(0,o.jsx)("button",{type:"submit",className:"w-full p-2 bg-blue-600 text-white font-semibold rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Confirm"})]}),(0,o.jsx)("button",{onClick:()=>{let e=new s.ws({Username:localStorage.getItem("email"),Pool:i.X_});e.resendConfirmationCode((e,n)=>{e?(f("error"),a(e.message||JSON.stringify(e))):(f("success"),a("A new confirmation code has been sent to your email."))})},className:"w-full p-2 mt-4 bg-gray-300 text-black font-semibold rounded-md hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",children:"Resend Confirmation Code"}),(0,o.jsx)("div",{className:"mt-4 text-center ".concat("success"===l?"text-green-600":"text-red-600"),children:t})]})}},5041:function(e,n,t){e.exports=t(6849)}},function(e){e.O(0,[540,512,89,676,744],function(){return e(e.s=8751)}),_N_E=e.O()}]);